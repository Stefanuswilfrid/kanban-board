{"ast":null,"code":"import _slicedToArray from\"/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import*as React from\"react\";import{v4 as uuid}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialTasks={todo:[{id:uuid(),title:\"Play Pokemon Go\"},{id:uuid(),title:\"Cook Pasta\"}],doing:[{id:uuid(),title:\"Study For Finals\"}],completed:[{id:uuid(),title:\"Pay Rent\"}],inReview:[{id:uuid(),title:\"To Do List Project\"}],issues:[{id:uuid(),title:\"Girlfriend is Angry\"}]};var TaskContext=/*#__PURE__*/React.createContext({});var reducer=function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case\"ADD_TASK\":return _objectSpread(_objectSpread({},state),{},_defineProperty({},payload.statusType,[].concat(_toConsumableArray(state[payload.statusType]),[{id:uuid(),title:payload.newTask}])));case\"UPDATE_TASK\":if(payload.destination===null){return state;}else{var _objectSpread3;var _statusFrom=payload.source.droppableId;var _indexFrom=payload.source.index;var statusTo=payload.destination.droppableId;var indexTo=payload.destination.index;console.log(payload.source);var task=state[_statusFrom][_indexFrom];var _from=Array.from(state[_statusFrom]);_from.splice(_indexFrom,1);var to=_statusFrom===statusTo?Array.from(_from):Array.from(state[statusTo]);to.splice(indexTo,0,task);return _objectSpread(_objectSpread({},state),{},(_objectSpread3={},_defineProperty(_objectSpread3,_statusFrom,_from),_defineProperty(_objectSpread3,statusTo,to),_objectSpread3));}case\"DELETE_TASK\":var statusFrom=payload.droppableId;var indexFrom=payload.index;var from=Array.from(state[statusFrom]);from.splice(indexFrom,1);return _objectSpread(_objectSpread({},state),{},_defineProperty({},statusFrom,from));default:throw new Error(\"Unknown action type \".concat(type));}};export var TaskProvider=function TaskProvider(_ref2){var children=_ref2.children;var _React$useReducer=React.useReducer(reducer,initialTasks,function(){return JSON.parse(localStorage.getItem(\"tasks\"))||initialTasks;}),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];React.useEffect(function(){localStorage.setItem(\"tasks\",JSON.stringify(state));},[state]);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1];var addTask=function addTask(newTask,statusType){dispatch({type:\"ADD_TASK\",payload:{newTask:newTask,statusType:statusType}});};var updateTask=function updateTask(destination,source){dispatch({type:\"UPDATE_TASK\",payload:{source:source,destination:destination}});};var deleteTask=function deleteTask(source){dispatch({type:\"DELETE_TASK\",payload:source});};return/*#__PURE__*/_jsx(TaskContext.Provider,{value:{state:state,addTask:addTask,updateTask:updateTask,deleteTask:deleteTask,isDragging:isDragging,setIsDragging:setIsDragging},children:children});};var useTasks=function useTasks(){return React.useContext(TaskContext);};export default useTasks;","map":{"version":3,"names":["React","v4","uuid","initialTasks","todo","id","title","doing","completed","inReview","issues","TaskContext","createContext","reducer","state","type","payload","statusType","newTask","destination","statusFrom","source","droppableId","indexFrom","index","statusTo","indexTo","console","log","task","from","Array","splice","to","Error","TaskProvider","children","useReducer","JSON","parse","localStorage","getItem","dispatch","useEffect","setItem","stringify","useState","isDragging","setIsDragging","addTask","updateTask","deleteTask","useTasks","useContext"],"sources":["/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/src/hooks/useTasks.js"],"sourcesContent":["import * as React from \"react\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialTasks = {\n\ttodo: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Play Pokemon Go\",\n\t\t},\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Cook Pasta\",\n\t\t},\n\t],\n\tdoing: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Study For Finals\",\n\t\t},\n\t],\n\tcompleted: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Pay Rent\",\n\t\t},\n\t],\n\tinReview: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"To Do List Project\",\n\t\t},\n\t],\n\tissues: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Girlfriend is Angry\",\n\t\t},\n\t],\n};\n\nconst TaskContext = React.createContext({});\n\nconst reducer = (state, { type, payload }) => {\n\tswitch (type) {\n\t\tcase \"ADD_TASK\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[payload.statusType]: [\n\t\t\t\t\t...state[payload.statusType],\n\t\t\t\t\t{\n\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\ttitle: payload.newTask,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"UPDATE_TASK\":\n\t\t\tif (payload.destination === null) {\n\t\t\t\treturn state;\n\t\t\t} else {\n\t\t\t\tconst statusFrom = payload.source.droppableId;\n\t\t\t\tconst indexFrom = payload.source.index;\n\t\t\t\tconst statusTo = payload.destination.droppableId;\n\t\t\t\tconst indexTo = payload.destination.index;\n\t\t\t\tconsole.log(payload.source);\n\n\t\t\t\tconst task = state[statusFrom][indexFrom];\n\n\t\t\t\tconst from = Array.from(state[statusFrom]);\n\t\t\t\tfrom.splice(indexFrom, 1);\n\n\t\t\t\tconst to = statusFrom === statusTo ? Array.from(from) : Array.from(state[statusTo]);\n\t\t\t\tto.splice(indexTo, 0, task);\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[statusFrom]: from,\n\t\t\t\t\t[statusTo]: to,\n\t\t\t\t};\n\t\t\t}\n\t\tcase \"DELETE_TASK\":\n\t\t\tconst statusFrom = payload.droppableId;\n\t\t\tconst indexFrom = payload.index;\n\n\t\t\tconst from = Array.from(state[statusFrom]);\n\t\t\tfrom.splice(indexFrom, 1);\n\n\t\t\treturn { ...state, [statusFrom]: from };\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown action type ${type}`);\n\t}\n};\n\nexport const TaskProvider = ({ children }) => {\n\tconst [state, dispatch] = React.useReducer(\n\t\treducer,\n\t\tinitialTasks,\n\t\t() => JSON.parse(localStorage.getItem(\"tasks\")) || initialTasks\n\t);\n\n\tReact.useEffect(() => {\n\t\tlocalStorage.setItem(\"tasks\", JSON.stringify(state));\n\t}, [state]);\n\n\tconst [isDragging, setIsDragging] = React.useState(false);\n\n\tconst addTask = (newTask, statusType) => {\n\t\tdispatch({ type: \"ADD_TASK\", payload: { newTask, statusType } });\n\t};\n\n\tconst updateTask = (destination, source) => {\n\t\tdispatch({ type: \"UPDATE_TASK\", payload: { source, destination } });\n\t};\n\n\tconst deleteTask = (source) => {\n\t\tdispatch({ type: \"DELETE_TASK\", payload: source });\n\t};\n\n\treturn (\n\t\t<TaskContext.Provider value={{ state, addTask, updateTask, deleteTask, isDragging, setIsDragging }}>\n\t\t\t{children}\n\t\t</TaskContext.Provider>\n\t);\n};\n\nconst useTasks = () => React.useContext(TaskContext);\n\nexport default useTasks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}