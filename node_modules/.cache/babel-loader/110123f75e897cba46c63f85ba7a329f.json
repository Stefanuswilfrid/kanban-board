{"ast":null,"code":"var _jsxFileName = \"/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/src/hooks/useTasks.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { v4 as uuid } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialTasks = {\n  todo: [{\n    id: uuid(),\n    title: \"Play Pokemon Go\"\n  }, {\n    id: uuid(),\n    title: \"Cook Pasta\"\n  }],\n  doing: [{\n    id: uuid(),\n    title: \"Study For Finals\"\n  }],\n  completed: [{\n    id: uuid(),\n    title: \"Pay Rent\"\n  }],\n  inReview: [{\n    id: uuid(),\n    title: \"To Do List Project\"\n  }],\n  issues: [{\n    id: uuid(),\n    title: \"Girlfriend is Angry\"\n  }]\n};\nconst TaskContext = /*#__PURE__*/React.createContext({});\n\nconst reducer = (state, _ref) => {\n  let {\n    type,\n    payload\n  } = _ref;\n\n  switch (type) {\n    case \"ADD_TASK\":\n      return { ...state,\n        [payload.statusType]: [...state[payload.statusType], {\n          id: uuid(),\n          title: payload.newTask\n        }]\n      };\n\n    case \"UPDATE_TASK\":\n      if (payload.destination === null) {\n        return state;\n      } else {\n        const statusFrom = payload;\n        const indexFrom = payload.source.index; // const statusTo = payload.destination.droppableId;\n\n        const indexTo = payload.destination.index;\n        console.log(statusFrom, indexFrom, indexTo);\n        const task = state[statusFrom][indexFrom];\n        const from = Array.from(state[statusFrom]);\n        from.splice(indexFrom, 1);\n        const to = statusFrom === statusTo ? Array.from(from) : Array.from(state[statusTo]);\n        to.splice(indexTo, 0, task);\n        return { ...state,\n          [statusFrom]: from,\n          [statusTo]: to\n        };\n      }\n\n    case \"DELETE_TASK\":\n      const statusFrom = payload.droppableId;\n      const indexFrom = payload.index;\n      const from = Array.from(state[statusFrom]);\n      from.splice(indexFrom, 1);\n      return { ...state,\n        [statusFrom]: from\n      };\n\n    default:\n      throw new Error(`Unknown action type ${type}`);\n  }\n};\n\nexport const TaskProvider = _ref2 => {\n  _s();\n\n  let {\n    children\n  } = _ref2;\n  const [state, dispatch] = React.useReducer(reducer, initialTasks, () => JSON.parse(localStorage.getItem(\"tasks\")) || initialTasks);\n  React.useEffect(() => {\n    localStorage.setItem(\"tasks\", JSON.stringify(state));\n  }, [state]);\n  const [isDragging, setIsDragging] = React.useState(false);\n\n  const addTask = (newTask, statusType) => {\n    dispatch({\n      type: \"ADD_TASK\",\n      payload: {\n        newTask,\n        statusType\n      }\n    });\n  };\n\n  const updateTask = (destination, source) => {\n    dispatch({\n      type: \"UPDATE_TASK\",\n      payload: {\n        source,\n        destination\n      }\n    });\n  };\n\n  const deleteTask = source => {\n    dispatch({\n      type: \"DELETE_TASK\",\n      payload: source\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TaskContext.Provider, {\n    value: {\n      state,\n      addTask,\n      updateTask,\n      deleteTask,\n      isDragging,\n      setIsDragging\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 3\n  }, this);\n};\n\n_s(TaskProvider, \"hYYrn6DG16DIZNKHJyLf/Ut7QeU=\");\n\n_c = TaskProvider;\n\nconst useTasks = () => {\n  _s2();\n\n  return React.useContext(TaskContext);\n};\n\n_s2(useTasks, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport default useTasks;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskProvider\");","map":{"version":3,"names":["React","v4","uuid","initialTasks","todo","id","title","doing","completed","inReview","issues","TaskContext","createContext","reducer","state","type","payload","statusType","newTask","destination","statusFrom","indexFrom","source","index","indexTo","console","log","task","from","Array","splice","to","statusTo","droppableId","Error","TaskProvider","children","dispatch","useReducer","JSON","parse","localStorage","getItem","useEffect","setItem","stringify","isDragging","setIsDragging","useState","addTask","updateTask","deleteTask","useTasks","useContext"],"sources":["/Users/stefanusw/Downloads/potatoes/JS/react/project/trello-clone/src/hooks/useTasks.js"],"sourcesContent":["import * as React from \"react\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialTasks = {\n\ttodo: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Play Pokemon Go\",\n\t\t},\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Cook Pasta\",\n\t\t},\n\t],\n\tdoing: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Study For Finals\",\n\t\t},\n\t],\n\tcompleted: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Pay Rent\",\n\t\t},\n\t],\n\tinReview: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"To Do List Project\",\n\t\t},\n\t],\n\tissues: [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\ttitle: \"Girlfriend is Angry\",\n\t\t},\n\t],\n};\n\nconst TaskContext = React.createContext({});\n\nconst reducer = (state, { type, payload }) => {\n\tswitch (type) {\n\t\tcase \"ADD_TASK\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[payload.statusType]: [\n\t\t\t\t\t...state[payload.statusType],\n\t\t\t\t\t{\n\t\t\t\t\t\tid: uuid(),\n\t\t\t\t\t\ttitle: payload.newTask,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\tcase \"UPDATE_TASK\":\n\t\t\tif (payload.destination === null) {\n\t\t\t\treturn state;\n\t\t\t} else {\n\t\t\t\tconst statusFrom = payload;\n\t\t\t\tconst indexFrom = payload.source.index;\n\t\t\t\t// const statusTo = payload.destination.droppableId;\n\t\t\t\tconst indexTo = payload.destination.index;\n\t\t\t\tconsole.log(statusFrom,indexFrom,indexTo);\n\n\t\t\t\tconst task = state[statusFrom][indexFrom];\n\n\t\t\t\tconst from = Array.from(state[statusFrom]);\n\t\t\t\tfrom.splice(indexFrom, 1);\n\n\t\t\t\tconst to = statusFrom === statusTo ? Array.from(from) : Array.from(state[statusTo]);\n\t\t\t\tto.splice(indexTo, 0, task);\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[statusFrom]: from,\n\t\t\t\t\t[statusTo]: to,\n\t\t\t\t};\n\t\t\t}\n\t\tcase \"DELETE_TASK\":\n\t\t\tconst statusFrom = payload.droppableId;\n\t\t\tconst indexFrom = payload.index;\n\n\t\t\tconst from = Array.from(state[statusFrom]);\n\t\t\tfrom.splice(indexFrom, 1);\n\n\t\t\treturn { ...state, [statusFrom]: from };\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown action type ${type}`);\n\t}\n};\n\nexport const TaskProvider = ({ children }) => {\n\tconst [state, dispatch] = React.useReducer(\n\t\treducer,\n\t\tinitialTasks,\n\t\t() => JSON.parse(localStorage.getItem(\"tasks\")) || initialTasks\n\t);\n\n\tReact.useEffect(() => {\n\t\tlocalStorage.setItem(\"tasks\", JSON.stringify(state));\n\t}, [state]);\n\n\tconst [isDragging, setIsDragging] = React.useState(false);\n\n\tconst addTask = (newTask, statusType) => {\n\t\tdispatch({ type: \"ADD_TASK\", payload: { newTask, statusType } });\n\t};\n\n\tconst updateTask = (destination, source) => {\n\t\tdispatch({ type: \"UPDATE_TASK\", payload: { source, destination } });\n\t};\n\n\tconst deleteTask = (source) => {\n\t\tdispatch({ type: \"DELETE_TASK\", payload: source });\n\t};\n\n\treturn (\n\t\t<TaskContext.Provider value={{ state, addTask, updateTask, deleteTask, isDragging, setIsDragging }}>\n\t\t\t{children}\n\t\t</TaskContext.Provider>\n\t);\n};\n\nconst useTasks = () => React.useContext(TaskContext);\n\nexport default useTasks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}